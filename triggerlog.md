
# フラッシュバック・トリガー記録フォーム 仕様（タグ選択版）.md

## 目的

フラッシュバックの「きっかけ（トリガー）」「詳細」「感情」「行動」を、負担少なく素早く記録できるミニフォーム。チェックボックスではなく“タグ選択（ピル型 UI）”で操作。
記録は何個も保存できるようにすること。

----------

## 1. フォーム構成（さらにシンプル版）

### 1) トリガー（タグ選択／複数可・必須）

-   🔊 大きな音
-   👃 匂い
-   👀 視線
-   🗣 言葉
-   👤 人（特定の人物／人の存在）
-   📍 場所・環境
-   ❓ わからない
-   ✍ その他（自由入力・単一行）

**挙動**

-   タグはトグル式（選択→ハイライト、再タップ→解除）
-   ✍ その他が選ばれた場合のみ、横にミニ入力を表示
-   最低1つ選択されていればOK（必須）

### 2) 詳細（自由テキスト／任意）

-   140〜500文字推奨。空でも送信可。
-   placeholder 例：「何が起きたか／自分に起きた反応などをメモ（任意）」

### 3) 感情（タグ選択／複数可・任意）

-   😠 怒り
-   😢 悲しみ
-   😰 不安
-   😶 無感覚
-   ✍ その他（自由入力）

### 4) 行動（タグ選択／複数可・任意）

-   🪨 固まった（＝フリーズ）
-   😭 泣いた
-   ⚡ 怒った
-   ↩️ 回避した
-   ✍ その他（自由入力）

----------

## 4. バリデーション

-   クライアント：
    -   必須＝「トリガー」1つ以上
    -   ✍ その他入力は 1〜40 文字（超過で赤枠＆文字数カウント）
    -   詳細は最大 1000 文字（超過はカット or 警告）
-   サーバ：同等の再検証＋サニタイズ（XSS 対策）。

----------

## 5. プライバシー & セキュリティ

-   すべてローカル保存（オフライン対応）
-   PII（個人特定情報）は保存しない方針。

----------

## 6. マイクロコピー（提案）

-   トップ：**「いま感じたこと、ちょっとだけ残そう」**
-   トリガー未選択時：**「トリガーを1つ以上 選んでね」**
-   送信後：**「記録したよ。深呼吸はどう？」**
